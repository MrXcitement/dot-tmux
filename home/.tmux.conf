# tmux.conf --- tmux configuration
# vim: fdm=marker

# Mike Barker <mike@thebarkers.com>
# September 21, 2016

# {{{ Get the tmux version...
run-shell "tmux setenv -g TMUX_VER `tmux -V | cut -d' ' -f2`"
# }}}
## Keybindings
# {{{ remove keybindings
unbind C-b
# }}}
# {{{ press C-a twice to pass it on
bind C-a send-prefix
# }}}
# {{{ reload config with the 'r' key
bind-key r source-file ~/.tmux.conf \; display "Config reloaded!"
# }}}
# {{{ ssh to host
bind-key S   command-prompt -p "host" "split-window 'ssh %1'"
bind-key C-s command-prompt -p "host" "new-window -n %1 'ssh %1'"
# }}}
# {{{ split window into panes
bind | split-window -h
bind - split-window -v
# }}}
# {{{ move to pane using vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
# }}}
# {{{ resize panes using vim keys
bind -r C-h resize-pane -L
bind -r C-j resize-pane -D
bind -r C-k resize-pane -U
bind -r C-l resize-pane -R
# }}}
## Server Options
## Session Options
# {{{ C-a remap the default key
set -g prefix C-a
# }}}
# {{{ Start window and pane numbers at 1
set -g base-index 1
set -g pane-base-index 1
# }}}
# {{{ 256 colors for vim
set -g default-terminal "screen-256color"
# }}}
# {{{ status line colors
set -g status-fg white
set -g status-bg black
# }}}
# {{{ pane divider, highlight current pane's divider
set -g pane-border-fg green
set -g pane-border-bg black
set -g pane-active-border-fg white
set -g pane-active-border-bg colour240
# }}}
# {{{ message/command line colors
set -g message-fg white
set -g message-bg black
set -g message-attr bright
# }}}
# {{{ Command / message line
set -g message-fg white
set -g message-bg black
set -g message-attr bright
# }}}
# {{{ Status line left side
set -g status-left-length 40 
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"
# }}}
# {{{ Status line right side
set -g status-right "#[fg=cyan]%d %b %R"
# }}}
# {{{ Center the window list
set -g status-justify centre
# }}}
# {{{ Status line refresh interval
set -g status-interval 60
# }}}
# {{{ Identify active windows
set -g monitor-activity on
set -g visual-activity on
# }}}
# {{{ Mouse support
# Note: if-shell best practice: use posix shell commands not bash specific commands
# tmux shells out through sh and this is more and more not just bash.
# if tmux version is greater than or equal to 2.4 
if-shell "[ `echo if( $TMUX_VER >= 2.4 ){ 1 } | bc` ]"  \
    "set -g mouse on"
# }}}
## Window Options
# {{{ Aggressive resize must be off for iTerm support
setw -g aggressive-resize off
# }}}
# {{{ window name highlight current window's name
setw -g window-status-fg white
setw -g window-status-bg default
setw -g window-status-attr dim 
setw -g window-status-current-fg black
setw -g window-status-current-bg yellow
setw -g window-status-current-attr dim
# }}}
## OS Specific settings
# {{{ darwin configuration
if-shell "uname -s | grep 'Darwin'" 'source-file $HOME/.tmux-darwin.conf'
# }}}
# {{{ linux configuration
# }}}
