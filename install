#!/usr/bin/env bash

# install -- make symbolic links in the users home directory
# Mike Barker <mike@thebarkers.com>
# May 14th, 2013

# 2016.10.01 MRB
# Modified to install tmux config file

# Backup a file if it exists
function backup {
	local file=$1
	if [ -a ${file} ]; then
		if ! [ -h ${file} ]; then
			echo "Backing up ${file} to ${file}.backup"
			mv ${file} ${file}.backup
		fi
	fi
}
# Link the file
function link {
    local src=$1
    local dst=$2
    if ! [ -h ${dst} ]; then
        echo "Linking file ${dst}"
        ln -sv ${src} ${dst}
    fi
}

# Get the current working directory
CWD="$(cd "$(dirname "$0")" && pwd)"

# Backup an existing tmux configuraion file
backup "${HOME}/.tmux.conf"

# Link the tmux configuration file
link "${CWD}/tmux.conf" "${HOME}/.tmux.conf"
